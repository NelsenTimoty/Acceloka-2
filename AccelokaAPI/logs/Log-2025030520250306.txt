2025-03-06 14:32:53.703 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/swagger/index.html - null null
2025-03-06 14:32:54.857 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/swagger/index.html - 200 null text/html;charset=utf-8 1190.1444ms
2025-03-06 14:32:56.495 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/swagger/v1/swagger.json - null null
2025-03-06 14:32:56.683 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 187.5433ms
2025-03-06 14:33:04.667 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/swagger/index.html - null null
2025-03-06 14:33:04.698 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/swagger/index.html - 200 null text/html;charset=utf-8 31.7973ms
2025-03-06 14:33:05.203 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/swagger/v1/swagger.json - null null
2025-03-06 14:33:05.285 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.736ms
2025-03-06 14:53:57.441 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - null null
2025-03-06 14:53:57.489 +07:00 [INF] CORS policy execution successful.
2025-03-06 14:53:57.504 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 14:53:57.517 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(AccelokaAPI.Features.Tickets.Queries.GetAvailableTicketsQuery) on controller AccelokaAPI.Controllers.TicketController (AccelokaAPI).
2025-03-06 14:53:59.008 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tickets] AS [t]
WHERE [t].[Quota] > 0
2025-03-06 14:53:59.047 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[Code], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[EventDate], [t0].[Name], [t0].[Price], [t0].[Quota], [t0].[UpdatedAt], [t0].[UpdatedBy], [c].[CategoryId], [c].[CategoryName]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy]
    FROM [Tickets] AS [t]
    WHERE [t].[Quota] > 0
    ORDER BY [t].[Code]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Categories] AS [c] ON [t0].[CategoryId] = [c].[CategoryId]
ORDER BY [t0].[Code]
2025-03-06 14:53:59.057 +07:00 [INF] Executing OkObjectResult, writing value of type 'AccelokaAPI.DTOs.PaginatedResponse`1[[AccelokaAPI.DTOs.TicketDTO, AccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-06 14:53:59.062 +07:00 [INF] Executed action AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI) in 1541.0917ms
2025-03-06 14:53:59.063 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 14:53:59.066 +07:00 [INF] HTTP GET /api/v1/get-available-ticket responded 200 in 1565.5283 ms
2025-03-06 14:53:59.069 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 1632.7608ms
2025-03-06 14:54:05.818 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/api/v1/booked-tickets?bookedTicketIds=8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - null null
2025-03-06 14:54:05.822 +07:00 [INF] CORS policy execution successful.
2025-03-06 14:54:05.823 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.BookedTicketController.GetBookedTickets (AccelokaAPI)'
2025-03-06 14:54:05.824 +07:00 [INF] Route matched with {action = "GetBookedTickets", controller = "BookedTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTickets(System.Guid) on controller AccelokaAPI.Controllers.BookedTicketController (AccelokaAPI).
2025-03-06 14:54:05.869 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[@__bookedTicketIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Code] AS [TicketCode], [t].[Name] AS [TicketName], [t].[EventDate], [b1].[Quantity], [c].[CategoryName]
FROM [BookedTickets] AS [b]
INNER JOIN [BookedTicketDetails] AS [b1] ON [b].[Id] = [b1].[BookedTicketId]
INNER JOIN [Tickets] AS [t] ON [b1].[TicketId] = [t].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bookedTicketIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
)
2025-03-06 14:54:05.872 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AccelokaAPI.Models.BookedTicketDetailDto, AccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-06 14:54:05.874 +07:00 [INF] Executed action AccelokaAPI.Controllers.BookedTicketController.GetBookedTickets (AccelokaAPI) in 47.9081ms
2025-03-06 14:54:05.876 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.BookedTicketController.GetBookedTickets (AccelokaAPI)'
2025-03-06 14:54:05.878 +07:00 [INF] HTTP GET /api/v1/booked-tickets responded 200 in 55.2954 ms
2025-03-06 14:54:05.880 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/api/v1/booked-tickets?bookedTicketIds=8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - 200 null application/json; charset=utf-8 61.3612ms
2025-03-06 14:55:32.747 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - null null
2025-03-06 14:55:32.751 +07:00 [INF] CORS policy execution successful.
2025-03-06 14:55:32.752 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 14:55:32.753 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(AccelokaAPI.Features.Tickets.Queries.GetAvailableTicketsQuery) on controller AccelokaAPI.Controllers.TicketController (AccelokaAPI).
2025-03-06 14:55:32.801 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tickets] AS [t]
WHERE [t].[Quota] > 0
2025-03-06 14:55:32.815 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[Code], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[EventDate], [t0].[Name], [t0].[Price], [t0].[Quota], [t0].[UpdatedAt], [t0].[UpdatedBy], [c].[CategoryId], [c].[CategoryName]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy]
    FROM [Tickets] AS [t]
    WHERE [t].[Quota] > 0
    ORDER BY [t].[Code]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Categories] AS [c] ON [t0].[CategoryId] = [c].[CategoryId]
ORDER BY [t0].[Code]
2025-03-06 14:55:32.821 +07:00 [INF] Executing OkObjectResult, writing value of type 'AccelokaAPI.DTOs.PaginatedResponse`1[[AccelokaAPI.DTOs.TicketDTO, AccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-06 14:55:32.822 +07:00 [INF] Executed action AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI) in 66.8567ms
2025-03-06 14:55:32.824 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 14:55:32.826 +07:00 [INF] HTTP GET /api/v1/get-available-ticket responded 200 in 73.9287 ms
2025-03-06 14:55:32.829 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 82.0023ms
2025-03-06 14:55:41.368 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/api/v1/booked-tickets?bookedTicketIds=8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - null null
2025-03-06 14:55:41.371 +07:00 [INF] CORS policy execution successful.
2025-03-06 14:55:41.372 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.BookedTicketController.GetBookedTickets (AccelokaAPI)'
2025-03-06 14:55:41.373 +07:00 [INF] Route matched with {action = "GetBookedTickets", controller = "BookedTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTickets(System.Guid) on controller AccelokaAPI.Controllers.BookedTicketController (AccelokaAPI).
2025-03-06 14:55:41.400 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__bookedTicketIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Code] AS [TicketCode], [t].[Name] AS [TicketName], [t].[EventDate], [b1].[Quantity], [c].[CategoryName]
FROM [BookedTickets] AS [b]
INNER JOIN [BookedTicketDetails] AS [b1] ON [b].[Id] = [b1].[BookedTicketId]
INNER JOIN [Tickets] AS [t] ON [b1].[TicketId] = [t].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bookedTicketIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
)
2025-03-06 14:55:41.405 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AccelokaAPI.Models.BookedTicketDetailDto, AccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-06 14:55:41.407 +07:00 [INF] Executed action AccelokaAPI.Controllers.BookedTicketController.GetBookedTickets (AccelokaAPI) in 31.2653ms
2025-03-06 14:55:41.410 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.BookedTicketController.GetBookedTickets (AccelokaAPI)'
2025-03-06 14:55:41.411 +07:00 [INF] HTTP GET /api/v1/booked-tickets responded 200 in 39.2474 ms
2025-03-06 14:55:41.413 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/api/v1/booked-tickets?bookedTicketIds=8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - 200 null application/json; charset=utf-8 46.28ms
2025-03-06 14:59:50.866 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5297/api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702/RF001/1 - null null
2025-03-06 14:59:50.871 +07:00 [INF] CORS policy execution successful.
2025-03-06 14:59:50.880 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5297/api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702/RF001/1 - 204 null null 14.342ms
2025-03-06 14:59:50.886 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5297/api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702/RF001/1 - null null
2025-03-06 14:59:50.890 +07:00 [INF] CORS policy execution successful.
2025-03-06 14:59:50.890 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.BookedTicketController.RevokeBookedTicket (AccelokaAPI)'
2025-03-06 14:59:50.892 +07:00 [INF] Route matched with {action = "RevokeBookedTicket", controller = "BookedTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeBookedTicket(System.Guid, System.String, Int32) on controller AccelokaAPI.Controllers.BookedTicketController (AccelokaAPI).
2025-03-06 14:59:50.937 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[BookingDate], [s].[Id], [s].[BookedTicketId], [s].[Quantity], [s].[TicketId], [s].[TotalPrice], [s].[Id0], [s].[CategoryId], [s].[Code], [s].[CreatedAt], [s].[CreatedBy], [s].[EventDate], [s].[Name], [s].[Price], [s].[Quota], [s].[UpdatedAt], [s].[UpdatedBy], [s].[CategoryId0], [s].[CategoryName]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BookingDate]
    FROM [BookedTickets] AS [b]
    WHERE [b].[Id] = @__bookedTicketId_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[BookedTicketId], [b0].[Quantity], [b0].[TicketId], [b0].[TotalPrice], [t].[Id] AS [Id0], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy], [c].[CategoryId] AS [CategoryId0], [c].[CategoryName]
    FROM [BookedTicketDetails] AS [b0]
    INNER JOIN [Tickets] AS [t] ON [b0].[TicketId] = [t].[Id]
    INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
) AS [s] ON [b1].[Id] = [s].[BookedTicketId]
ORDER BY [b1].[Id], [s].[Id], [s].[Id0]
2025-03-06 14:59:50.950 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[BookingDate], [b0].[Id], [b0].[BookedTicketId], [b0].[Quantity], [b0].[TicketId], [b0].[TotalPrice]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BookingDate]
    FROM [BookedTickets] AS [b]
    WHERE [b].[Id] = @__bookedTicketId_0
) AS [b1]
LEFT JOIN [BookedTicketDetails] AS [b0] ON [b1].[Id] = [b0].[BookedTicketId]
ORDER BY [b1].[Id]
2025-03-06 14:59:50.973 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BookedTicketDetails] SET [Quantity] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-06 14:59:50.977 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-06 14:59:50.979 +07:00 [INF] Executed action AccelokaAPI.Controllers.BookedTicketController.RevokeBookedTicket (AccelokaAPI) in 84.6992ms
2025-03-06 14:59:50.981 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.BookedTicketController.RevokeBookedTicket (AccelokaAPI)'
2025-03-06 14:59:50.982 +07:00 [INF] HTTP DELETE /api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702/RF001/1 responded 200 in 91.7294 ms
2025-03-06 14:59:50.984 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5297/api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702/RF001/1 - 200 null application/json; charset=utf-8 98.3283ms
2025-03-06 15:01:02.676 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - null null
2025-03-06 15:01:02.680 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:01:02.681 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 15:01:02.682 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(AccelokaAPI.Features.Tickets.Queries.GetAvailableTicketsQuery) on controller AccelokaAPI.Controllers.TicketController (AccelokaAPI).
2025-03-06 15:01:02.703 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tickets] AS [t]
WHERE [t].[Quota] > 0
2025-03-06 15:01:02.713 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[Code], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[EventDate], [t0].[Name], [t0].[Price], [t0].[Quota], [t0].[UpdatedAt], [t0].[UpdatedBy], [c].[CategoryId], [c].[CategoryName]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy]
    FROM [Tickets] AS [t]
    WHERE [t].[Quota] > 0
    ORDER BY [t].[Code]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Categories] AS [c] ON [t0].[CategoryId] = [c].[CategoryId]
ORDER BY [t0].[Code]
2025-03-06 15:01:02.718 +07:00 [INF] Executing OkObjectResult, writing value of type 'AccelokaAPI.DTOs.PaginatedResponse`1[[AccelokaAPI.DTOs.TicketDTO, AccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-06 15:01:02.720 +07:00 [INF] Executed action AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI) in 35.567ms
2025-03-06 15:01:02.722 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 15:01:02.723 +07:00 [INF] HTTP GET /api/v1/get-available-ticket responded 200 in 42.1390 ms
2025-03-06 15:01:02.725 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 49.032ms
2025-03-06 15:01:10.231 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - null null
2025-03-06 15:01:10.238 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:01:10.240 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 15:01:10.241 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(AccelokaAPI.Features.Tickets.Queries.GetAvailableTicketsQuery) on controller AccelokaAPI.Controllers.TicketController (AccelokaAPI).
2025-03-06 15:01:10.251 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tickets] AS [t]
WHERE [t].[Quota] > 0
2025-03-06 15:01:10.258 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[Code], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[EventDate], [t0].[Name], [t0].[Price], [t0].[Quota], [t0].[UpdatedAt], [t0].[UpdatedBy], [c].[CategoryId], [c].[CategoryName]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy]
    FROM [Tickets] AS [t]
    WHERE [t].[Quota] > 0
    ORDER BY [t].[Code]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Categories] AS [c] ON [t0].[CategoryId] = [c].[CategoryId]
ORDER BY [t0].[Code]
2025-03-06 15:01:10.266 +07:00 [INF] Executing OkObjectResult, writing value of type 'AccelokaAPI.DTOs.PaginatedResponse`1[[AccelokaAPI.DTOs.TicketDTO, AccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-06 15:01:10.270 +07:00 [INF] Executed action AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI) in 24.491ms
2025-03-06 15:01:10.273 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 15:01:10.275 +07:00 [INF] HTTP GET /api/v1/get-available-ticket responded 200 in 35.6303 ms
2025-03-06 15:01:10.280 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 48.3403ms
2025-03-06 15:04:29.508 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - null null
2025-03-06 15:04:29.514 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:04:29.517 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 15:04:29.519 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(AccelokaAPI.Features.Tickets.Queries.GetAvailableTicketsQuery) on controller AccelokaAPI.Controllers.TicketController (AccelokaAPI).
2025-03-06 15:04:29.546 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tickets] AS [t]
WHERE [t].[Quota] > 0
2025-03-06 15:04:29.556 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[Code], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[EventDate], [t0].[Name], [t0].[Price], [t0].[Quota], [t0].[UpdatedAt], [t0].[UpdatedBy], [c].[CategoryId], [c].[CategoryName]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy]
    FROM [Tickets] AS [t]
    WHERE [t].[Quota] > 0
    ORDER BY [t].[Code]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Categories] AS [c] ON [t0].[CategoryId] = [c].[CategoryId]
ORDER BY [t0].[Code]
2025-03-06 15:04:29.562 +07:00 [INF] Executing OkObjectResult, writing value of type 'AccelokaAPI.DTOs.PaginatedResponse`1[[AccelokaAPI.DTOs.TicketDTO, AccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-06 15:04:29.564 +07:00 [INF] Executed action AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI) in 42.5216ms
2025-03-06 15:04:29.565 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 15:04:29.566 +07:00 [INF] HTTP GET /api/v1/get-available-ticket responded 200 in 50.2331 ms
2025-03-06 15:04:29.568 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 61.1516ms
2025-03-06 15:05:28.271 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/api/v1/booked-tickets?bookedTicketIds=8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - null null
2025-03-06 15:05:28.276 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:05:28.277 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.BookedTicketController.GetBookedTickets (AccelokaAPI)'
2025-03-06 15:05:28.279 +07:00 [INF] Route matched with {action = "GetBookedTickets", controller = "BookedTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTickets(System.Guid) on controller AccelokaAPI.Controllers.BookedTicketController (AccelokaAPI).
2025-03-06 15:05:28.337 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__bookedTicketIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Code] AS [TicketCode], [t].[Name] AS [TicketName], [t].[EventDate], [b1].[Quantity], [c].[CategoryName]
FROM [BookedTickets] AS [b]
INNER JOIN [BookedTicketDetails] AS [b1] ON [b].[Id] = [b1].[BookedTicketId]
INNER JOIN [Tickets] AS [t] ON [b1].[TicketId] = [t].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bookedTicketIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
)
2025-03-06 15:05:28.340 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AccelokaAPI.Models.BookedTicketDetailDto, AccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-06 15:05:28.342 +07:00 [INF] Executed action AccelokaAPI.Controllers.BookedTicketController.GetBookedTickets (AccelokaAPI) in 59.545ms
2025-03-06 15:05:28.343 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.BookedTicketController.GetBookedTickets (AccelokaAPI)'
2025-03-06 15:05:28.345 +07:00 [INF] HTTP GET /api/v1/booked-tickets responded 200 in 67.4517 ms
2025-03-06 15:05:28.347 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/api/v1/booked-tickets?bookedTicketIds=8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - 200 null application/json; charset=utf-8 76.5621ms
2025-03-06 15:05:39.108 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5297/api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - null null
2025-03-06 15:05:39.111 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:05:39.114 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5297/api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - 204 null null 6.2787ms
2025-03-06 15:05:39.119 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5297/api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - application/json 37
2025-03-06 15:05:39.126 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:05:39.127 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.BookedTicketController.EditBookedTicket (AccelokaAPI)'
2025-03-06 15:05:39.179 +07:00 [INF] Route matched with {action = "EditBookedTicket", controller = "BookedTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditBookedTicket(System.Guid, System.Collections.Generic.List`1[TicketUpdateModel]) on controller AccelokaAPI.Controllers.BookedTicketController (AccelokaAPI).
2025-03-06 15:05:39.376 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[BookingDate], [s].[Id], [s].[BookedTicketId], [s].[Quantity], [s].[TicketId], [s].[TotalPrice], [s].[Id0], [s].[CategoryId], [s].[Code], [s].[CreatedAt], [s].[CreatedBy], [s].[EventDate], [s].[Name], [s].[Price], [s].[Quota], [s].[UpdatedAt], [s].[UpdatedBy]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BookingDate]
    FROM [BookedTickets] AS [b]
    WHERE [b].[Id] = @__bookedTicketId_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[BookedTicketId], [b0].[Quantity], [b0].[TicketId], [b0].[TotalPrice], [t].[Id] AS [Id0], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy]
    FROM [BookedTicketDetails] AS [b0]
    INNER JOIN [Tickets] AS [t] ON [b0].[TicketId] = [t].[Id]
) AS [s] ON [b1].[Id] = [s].[BookedTicketId]
ORDER BY [b1].[Id], [s].[Id]
2025-03-06 15:05:39.442 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__item_KodeTicket_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy]
FROM [Tickets] AS [t]
WHERE [t].[Code] = @__item_KodeTicket_0
2025-03-06 15:05:39.459 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p3='?' (DbType = Guid), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BookedTicketDetails] SET [Quantity] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Tickets] SET [Quota] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-03-06 15:05:39.464 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], AccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-06 15:05:39.481 +07:00 [INF] Executed action AccelokaAPI.Controllers.BookedTicketController.EditBookedTicket (AccelokaAPI) in 299.2283ms
2025-03-06 15:05:39.482 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.BookedTicketController.EditBookedTicket (AccelokaAPI)'
2025-03-06 15:05:39.483 +07:00 [INF] HTTP PUT /api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702 responded 200 in 356.2373 ms
2025-03-06 15:05:39.485 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5297/api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - 200 null application/json; charset=utf-8 365.7918ms
2025-03-06 15:06:01.431 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5297/api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - null null
2025-03-06 15:06:01.434 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:06:01.436 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5297/api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - 204 null null 4.7392ms
2025-03-06 15:06:01.441 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5297/api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - application/json 37
2025-03-06 15:06:01.444 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:06:01.445 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.BookedTicketController.EditBookedTicket (AccelokaAPI)'
2025-03-06 15:06:01.446 +07:00 [INF] Route matched with {action = "EditBookedTicket", controller = "BookedTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditBookedTicket(System.Guid, System.Collections.Generic.List`1[TicketUpdateModel]) on controller AccelokaAPI.Controllers.BookedTicketController (AccelokaAPI).
2025-03-06 15:06:01.452 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[BookingDate], [s].[Id], [s].[BookedTicketId], [s].[Quantity], [s].[TicketId], [s].[TotalPrice], [s].[Id0], [s].[CategoryId], [s].[Code], [s].[CreatedAt], [s].[CreatedBy], [s].[EventDate], [s].[Name], [s].[Price], [s].[Quota], [s].[UpdatedAt], [s].[UpdatedBy]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BookingDate]
    FROM [BookedTickets] AS [b]
    WHERE [b].[Id] = @__bookedTicketId_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[BookedTicketId], [b0].[Quantity], [b0].[TicketId], [b0].[TotalPrice], [t].[Id] AS [Id0], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy]
    FROM [BookedTicketDetails] AS [b0]
    INNER JOIN [Tickets] AS [t] ON [b0].[TicketId] = [t].[Id]
) AS [s] ON [b1].[Id] = [s].[BookedTicketId]
ORDER BY [b1].[Id], [s].[Id]
2025-03-06 15:06:01.457 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_KodeTicket_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy]
FROM [Tickets] AS [t]
WHERE [t].[Code] = @__item_KodeTicket_0
2025-03-06 15:06:01.462 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p3='?' (DbType = Guid), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BookedTicketDetails] SET [Quantity] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Tickets] SET [Quota] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-03-06 15:06:01.466 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], AccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-06 15:06:01.468 +07:00 [INF] Executed action AccelokaAPI.Controllers.BookedTicketController.EditBookedTicket (AccelokaAPI) in 19.9468ms
2025-03-06 15:06:01.470 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.BookedTicketController.EditBookedTicket (AccelokaAPI)'
2025-03-06 15:06:01.472 +07:00 [INF] HTTP PUT /api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702 responded 200 in 26.9432 ms
2025-03-06 15:06:01.474 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5297/api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - 200 null application/json; charset=utf-8 33.3987ms
2025-03-06 15:06:05.606 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - null null
2025-03-06 15:06:05.617 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:06:05.620 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 15:06:05.622 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(AccelokaAPI.Features.Tickets.Queries.GetAvailableTicketsQuery) on controller AccelokaAPI.Controllers.TicketController (AccelokaAPI).
2025-03-06 15:06:05.636 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tickets] AS [t]
WHERE [t].[Quota] > 0
2025-03-06 15:06:05.687 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[Code], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[EventDate], [t0].[Name], [t0].[Price], [t0].[Quota], [t0].[UpdatedAt], [t0].[UpdatedBy], [c].[CategoryId], [c].[CategoryName]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy]
    FROM [Tickets] AS [t]
    WHERE [t].[Quota] > 0
    ORDER BY [t].[Code]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Categories] AS [c] ON [t0].[CategoryId] = [c].[CategoryId]
ORDER BY [t0].[Code]
2025-03-06 15:06:05.697 +07:00 [INF] Executing OkObjectResult, writing value of type 'AccelokaAPI.DTOs.PaginatedResponse`1[[AccelokaAPI.DTOs.TicketDTO, AccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-06 15:06:05.699 +07:00 [INF] Executed action AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI) in 74.5779ms
2025-03-06 15:06:05.702 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 15:06:05.705 +07:00 [INF] HTTP GET /api/v1/get-available-ticket responded 200 in 85.5240 ms
2025-03-06 15:06:05.708 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 101.3709ms
2025-03-06 15:06:21.071 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/api/v1/booked-tickets?bookedTicketIds=8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - null null
2025-03-06 15:06:21.075 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:06:21.076 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.BookedTicketController.GetBookedTickets (AccelokaAPI)'
2025-03-06 15:06:21.077 +07:00 [INF] Route matched with {action = "GetBookedTickets", controller = "BookedTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTickets(System.Guid) on controller AccelokaAPI.Controllers.BookedTicketController (AccelokaAPI).
2025-03-06 15:06:21.105 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__bookedTicketIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Code] AS [TicketCode], [t].[Name] AS [TicketName], [t].[EventDate], [b1].[Quantity], [c].[CategoryName]
FROM [BookedTickets] AS [b]
INNER JOIN [BookedTicketDetails] AS [b1] ON [b].[Id] = [b1].[BookedTicketId]
INNER JOIN [Tickets] AS [t] ON [b1].[TicketId] = [t].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[Id] IN (
    SELECT [b0].[value]
    FROM OPENJSON(@__bookedTicketIds_0) WITH ([value] uniqueidentifier '$') AS [b0]
)
2025-03-06 15:06:21.108 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AccelokaAPI.Models.BookedTicketDetailDto, AccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-06 15:06:21.110 +07:00 [INF] Executed action AccelokaAPI.Controllers.BookedTicketController.GetBookedTickets (AccelokaAPI) in 30.6841ms
2025-03-06 15:06:21.111 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.BookedTicketController.GetBookedTickets (AccelokaAPI)'
2025-03-06 15:06:21.113 +07:00 [INF] HTTP GET /api/v1/booked-tickets responded 200 in 37.2220 ms
2025-03-06 15:06:21.115 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/api/v1/booked-tickets?bookedTicketIds=8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - 200 null application/json; charset=utf-8 44.0104ms
2025-03-06 15:09:21.343 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5297/api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - null null
2025-03-06 15:09:21.346 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:09:21.347 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5297/api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - 204 null null 4.6098ms
2025-03-06 15:09:21.349 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5297/api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - application/json 37
2025-03-06 15:09:21.353 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:09:21.353 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.BookedTicketController.EditBookedTicket (AccelokaAPI)'
2025-03-06 15:09:21.354 +07:00 [INF] Route matched with {action = "EditBookedTicket", controller = "BookedTicket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditBookedTicket(System.Guid, System.Collections.Generic.List`1[TicketUpdateModel]) on controller AccelokaAPI.Controllers.BookedTicketController (AccelokaAPI).
2025-03-06 15:09:21.371 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[BookingDate], [s].[Id], [s].[BookedTicketId], [s].[Quantity], [s].[TicketId], [s].[TotalPrice], [s].[Id0], [s].[CategoryId], [s].[Code], [s].[CreatedAt], [s].[CreatedBy], [s].[EventDate], [s].[Name], [s].[Price], [s].[Quota], [s].[UpdatedAt], [s].[UpdatedBy]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BookingDate]
    FROM [BookedTickets] AS [b]
    WHERE [b].[Id] = @__bookedTicketId_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[BookedTicketId], [b0].[Quantity], [b0].[TicketId], [b0].[TotalPrice], [t].[Id] AS [Id0], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy]
    FROM [BookedTicketDetails] AS [b0]
    INNER JOIN [Tickets] AS [t] ON [b0].[TicketId] = [t].[Id]
) AS [s] ON [b1].[Id] = [s].[BookedTicketId]
ORDER BY [b1].[Id], [s].[Id]
2025-03-06 15:09:21.377 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_KodeTicket_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy]
FROM [Tickets] AS [t]
WHERE [t].[Code] = @__item_KodeTicket_0
2025-03-06 15:09:21.383 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p3='?' (DbType = Guid), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BookedTicketDetails] SET [Quantity] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Tickets] SET [Quota] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-03-06 15:09:21.386 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], AccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-06 15:09:21.388 +07:00 [INF] Executed action AccelokaAPI.Controllers.BookedTicketController.EditBookedTicket (AccelokaAPI) in 31.799ms
2025-03-06 15:09:21.390 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.BookedTicketController.EditBookedTicket (AccelokaAPI)'
2025-03-06 15:09:21.391 +07:00 [INF] HTTP PUT /api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702 responded 200 in 37.3079 ms
2025-03-06 15:09:21.392 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5297/api/v1/booked-tickets/8C7951E8-2732-45F8-6CE6-08DD5BC4A702 - 200 null application/json; charset=utf-8 42.5764ms
2025-03-06 15:09:26.204 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - null null
2025-03-06 15:09:26.209 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:09:26.211 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 15:09:26.213 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(AccelokaAPI.Features.Tickets.Queries.GetAvailableTicketsQuery) on controller AccelokaAPI.Controllers.TicketController (AccelokaAPI).
2025-03-06 15:09:26.223 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tickets] AS [t]
WHERE [t].[Quota] > 0
2025-03-06 15:09:26.237 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[Code], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[EventDate], [t0].[Name], [t0].[Price], [t0].[Quota], [t0].[UpdatedAt], [t0].[UpdatedBy], [c].[CategoryId], [c].[CategoryName]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy]
    FROM [Tickets] AS [t]
    WHERE [t].[Quota] > 0
    ORDER BY [t].[Code]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Categories] AS [c] ON [t0].[CategoryId] = [c].[CategoryId]
ORDER BY [t0].[Code]
2025-03-06 15:09:26.241 +07:00 [INF] Executing OkObjectResult, writing value of type 'AccelokaAPI.DTOs.PaginatedResponse`1[[AccelokaAPI.DTOs.TicketDTO, AccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-06 15:09:26.244 +07:00 [INF] Executed action AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI) in 28.0583ms
2025-03-06 15:09:26.247 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 15:09:26.250 +07:00 [INF] HTTP GET /api/v1/get-available-ticket responded 200 in 38.4690 ms
2025-03-06 15:09:26.254 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 50.2935ms
2025-03-06 15:09:56.627 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - null null
2025-03-06 15:09:56.630 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:09:56.632 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 15:09:56.633 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(AccelokaAPI.Features.Tickets.Queries.GetAvailableTicketsQuery) on controller AccelokaAPI.Controllers.TicketController (AccelokaAPI).
2025-03-06 15:09:56.648 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tickets] AS [t]
WHERE [t].[Quota] > 0
2025-03-06 15:09:56.661 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[Code], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[EventDate], [t0].[Name], [t0].[Price], [t0].[Quota], [t0].[UpdatedAt], [t0].[UpdatedBy], [c].[CategoryId], [c].[CategoryName]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy]
    FROM [Tickets] AS [t]
    WHERE [t].[Quota] > 0
    ORDER BY [t].[Code]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Categories] AS [c] ON [t0].[CategoryId] = [c].[CategoryId]
ORDER BY [t0].[Code]
2025-03-06 15:09:56.667 +07:00 [INF] Executing OkObjectResult, writing value of type 'AccelokaAPI.DTOs.PaginatedResponse`1[[AccelokaAPI.DTOs.TicketDTO, AccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-06 15:09:56.669 +07:00 [INF] Executed action AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI) in 32.8278ms
2025-03-06 15:09:56.671 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 15:09:56.673 +07:00 [INF] HTTP GET /api/v1/get-available-ticket responded 200 in 41.4208 ms
2025-03-06 15:09:56.676 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 48.3426ms
2025-03-06 15:10:02.577 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5297/api/v1/book-ticket - null null
2025-03-06 15:10:02.579 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:10:02.581 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5297/api/v1/book-ticket - 204 null null 4.0269ms
2025-03-06 15:10:02.584 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/api/v1/book-ticket - application/json 49
2025-03-06 15:10:02.587 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:10:02.588 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.BookingController.BookTicket (AccelokaAPI)'
2025-03-06 15:10:02.590 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(AccelokaAPI.Models.BookingRequest) on controller AccelokaAPI.Controllers.BookingController (AccelokaAPI).
2025-03-06 15:10:02.596 +07:00 [INF] Received booking request: {"Tickets":[{"TicketCode":"BF002","Quantity":1,"$type":"TicketBookingRequest"}],"$type":"BookingRequest"}
2025-03-06 15:10:02.605 +07:00 [INF] Processing booking request: {"Tickets":[{"TicketCode":"BF002","Quantity":1,"$type":"TicketBookingRequest"}],"$type":"BookingRequest"}
2025-03-06 15:10:02.623 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__ticketCodes_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy], [c].[CategoryId], [c].[CategoryName]
FROM [Tickets] AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[Code] IN (
    SELECT [t0].[value]
    FROM OPENJSON(@__ticketCodes_0) WITH ([value] nvarchar(450) '$') AS [t0]
)
2025-03-06 15:10:02.627 +07:00 [WRN] Attempt to book a past event ticket: BF002
2025-03-06 15:10:02.633 +07:00 [WRN] Cannot book past event ticket BF002.
2025-03-06 15:10:02.637 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-03-06 15:10:02.640 +07:00 [INF] Executed action AccelokaAPI.Controllers.BookingController.BookTicket (AccelokaAPI) in 47.2415ms
2025-03-06 15:10:02.642 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.BookingController.BookTicket (AccelokaAPI)'
2025-03-06 15:10:02.643 +07:00 [INF] HTTP POST /api/v1/book-ticket responded 400 in 54.6420 ms
2025-03-06 15:10:02.646 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/api/v1/book-ticket - 400 null application/problem+json; charset=utf-8 61.5361ms
2025-03-06 15:10:30.542 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - null null
2025-03-06 15:10:30.546 +07:00 [INF] CORS policy execution successful.
2025-03-06 15:10:30.547 +07:00 [INF] Executing endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 15:10:30.549 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(AccelokaAPI.Features.Tickets.Queries.GetAvailableTicketsQuery) on controller AccelokaAPI.Controllers.TicketController (AccelokaAPI).
2025-03-06 15:10:30.557 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tickets] AS [t]
WHERE [t].[Quota] > 0
2025-03-06 15:10:30.566 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[Code], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[EventDate], [t0].[Name], [t0].[Price], [t0].[Quota], [t0].[UpdatedAt], [t0].[UpdatedBy], [c].[CategoryId], [c].[CategoryName]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[Code], [t].[CreatedAt], [t].[CreatedBy], [t].[EventDate], [t].[Name], [t].[Price], [t].[Quota], [t].[UpdatedAt], [t].[UpdatedBy]
    FROM [Tickets] AS [t]
    WHERE [t].[Quota] > 0
    ORDER BY [t].[Code]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Categories] AS [c] ON [t0].[CategoryId] = [c].[CategoryId]
ORDER BY [t0].[Code]
2025-03-06 15:10:30.575 +07:00 [INF] Executing OkObjectResult, writing value of type 'AccelokaAPI.DTOs.PaginatedResponse`1[[AccelokaAPI.DTOs.TicketDTO, AccelokaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-06 15:10:30.577 +07:00 [INF] Executed action AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI) in 25.8203ms
2025-03-06 15:10:30.579 +07:00 [INF] Executed endpoint 'AccelokaAPI.Controllers.TicketController.GetAvailableTickets (AccelokaAPI)'
2025-03-06 15:10:30.580 +07:00 [INF] HTTP GET /api/v1/get-available-ticket responded 200 in 33.2797 ms
2025-03-06 15:10:30.584 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 41.7911ms
